<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>DEMO - icalendar - a Jquery plugin that easy to develop and use.</title>
<meta name="keywords" content="ICalendar,jQuery插件,JS日历,Calendar" />
<meta name="description" content="ICalendar Plug-in for jQuery | 一款便捷开发的日历jQuery插件，具有较高的开发自由度，提供完整的解决方案。" />
<meta name="generator" content="Jquery" />

<script type="text/javascript" src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
<script type="text/javascript" src="./icalendar_min.js"></script>
<link type="text/css" rel="stylesheet" href="./icalendar.css" />

<style type="text/css">
body{font-size:12px;}
textarea{border:none; border-bottom:#666 dashed 1px; font-size:12px; width:400px; height:200px; color:#666;}
dt{font-size:12px; font-weight:bold;}
</style>
</head>

<body>
<br />
<a href="./demo.php">&lt;&lt; 返回全部实例</a>
<br />
<br />

<h3>15. 综合案例<a name="f15"> </a></h3>
<input class="time15" value="" style="width:400px;" ><br />
<h5>代 码：</h5>
<textarea style="height:400px;">
function returnSelect(){
    var timeArr = $('.time15').val().split(',');
    var sel = {};
    for(x in timeArr){
        if(timeArr[x]) sel[x] = {0:timeArr[x]};
    }
    return sel.length ? sel : true ;
}


// 这里是 Return 接口，会替换原 Return 接口。
// 若希望重复替换，应置于$.icalendar同级下。

$.fn.icalendar.onReturn = function(date, dateObj, obj, calendar, a, selected){
    var val = $(obj).val();
    $(obj).val( selected.join(',') );
}

$(".time15").click(function(){
    var sel = returnSelect();
    $(this).icalendar({
        show:1,
        showMonths:1,
        selected:sel,
        event:false
    });
});
</textarea><br />
<script type="text/javascript">
    function returnSelect(){
        var timeArr = $('.time15').val().split(',');
        var sel = {};
        for(x in timeArr){
            if(timeArr[x]) sel[x] = {0:timeArr[x]};
        }
        return sel.length ? sel : true ;
    }

    $.fn.icalendar.onReturn = function(date, dateObj, obj, calendar, a, selected){
        if(selected) $(obj).val( selected.join(',') );
    }

    $(".time15").click(function(){
        var sel = returnSelect();
        $(this).icalendar({
            show:1,
            showMonths:1,
            selected:sel,
            event:false
        });
    });

</script>




</body>
</html>
